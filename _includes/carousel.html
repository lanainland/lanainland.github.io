<div class="slideshow-container">

    {% assign dot_count = 0 %}
    {% for page in site.pages %}
      {% if page.layout == "home" %}
        <div class="mySlides fade">
            <img src="{{ site.baseurl }}{{site.img_path}}{{ site.hero_img }}" style="width:100%">
        </div>
        {% assign dot_count = dot_count | plus:1 %}
      {% elsif page.layout == "section" %}
        <div class="mySlides fade">
            <img src="{{ site.baseurl }}{{site.img_path}}{{ page.image }}" style="width:100%">
        </div>
        {% assign dot_count = dot_count | plus:1 %}
      {% endif %}
    {% endfor %}
  
    <!-- Next and previous buttons -->
    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
  
    <div class="dot_container">
      {% for dot in (1..dot_count) %}
          <span class="dot" onclick="currentSlide({{ forloop.index }})"></span>
      {% endfor %}
    </div>
  </div>